# Cities Service

Сервис предоставляет информацию о городах. Данные хранятся в файлах. В момент старта сервиса данные из файлов кэшируются в память, в момент завершения работы сервиса данные перезаписываются обратно в файлы.

Поддерживаемый формат файлов csv, json

## Функционал сервиса

### Города

- получение информации о городе по его id

- добавление новой записи в список городов
- удаление информации о городе по указанному id
- обновление информации о городе по указанному id
- получение списка городов по указанным регионам
- получение списка городов по указанным округам
- получение списка городов по указанному диапазону численности населения
- получение списка городов по указанному диапазону года основания

### Регионы

- получение информации о регионе по его id
- добавление новой записи в список регионов
- удаление информации о регионе по указанному id
- обновление информации о регионе по указанному id
- получение списка регионов

### Округа

- получение информации о округе по его id
- добавление новой записи в список округов
- удаление информации о округе по указанному id
- обновление информации о округе по указанному id
- получение списка округов

## Файлы с данными

### cities.csv

id, название города, название региона, название округа, численность населения, год основания

Пример содержимого файла:

```cs
490,Москва,Москва,Центральный,11514330,1147

781,Санкт-Петербург,Санкт-Петербург,Северо-Западный,4848742,1703
```

### cities_storage.json

id, название города, id региона, id округа, численность населения, год основания

```json
  {
    "id": 704,
    "name": "Владивосток",
    "region_id": 5,
    "district_id": 42,
    "population": 592069,
    "foundation": 1860
  },
  {
    "id": 829,
    "name": "Екатеринбург",
    "region_id": 65,
    "district_id": 34,
    "population": 1377738,
    "foundation": 1723
  }
```

### regions_storage.json

id, название региона

```json
  {
    "id": 1,
    "name": "Алтайский край"
  },
  {
    "id": 3,
    "name": "Краснодарский край"
  }
```

### districts_storage.json

id, название округа

```json
  {
    "id": 30,
    "name": "Центральный"
  },
  {
    "id": 31,
    "name": "Северо-Западный"
  }
```

## Запуск сервиса

```makefile
make build && make run
```

##  Используемые концепции в сервисе

- Веб-Приложение на Go, следует дизайну REST API
- Работа с фреймворком [go-chi/chi](https://github.com/go-chi/chi)
- Работа с файловой системой **json, csv**
- Graceful Shutdown
- Документирование [Swagger](https://github.com/swaggo/http-swagger)
